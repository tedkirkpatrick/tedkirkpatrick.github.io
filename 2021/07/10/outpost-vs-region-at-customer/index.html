<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="Blog for A. E. Kirkpatrick and  Kirkpatrick Computing Services">
  <meta name="author" content="Arthur E. Kirkpatrick">
  <meta name="copyright" content="Arthur E. Kirkpatrick, 2018, 2019, 2020, 2021">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      AWS Outpost vs. Oracle Region @ Customer: How do they differ? &middot; All my marbles in one place
    
  </title>

    <!-- Asychronously-loaded JavaScript -->
    

  <!-- Google Analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66576928-4', 'auto');
  ga('send', 'pageview');
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="AWS Outpost vs. Oracle Region @ Customer: How do they differ?" />
<meta name="author" content="Ted Kirkpatrick" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Cloud vendors are rolling out products that place proprietary hardware in customer’s datacentres, delivering a selection of the vendor’s cloud services from the customer’s datacentre. These new products require a rethinking of current guidelines regarding tradeoffs between data residency, latency, and failure tolerance. As a start towards this, I compare two specific products, Amazon Outpost in 42U rack form factor and Oracle Dedicated Region Cloud @ Customer, according to these criteria. What do these comparisons tell us about the new possibilities such products create?" />
<meta property="og:description" content="Cloud vendors are rolling out products that place proprietary hardware in customer’s datacentres, delivering a selection of the vendor’s cloud services from the customer’s datacentre. These new products require a rethinking of current guidelines regarding tradeoffs between data residency, latency, and failure tolerance. As a start towards this, I compare two specific products, Amazon Outpost in 42U rack form factor and Oracle Dedicated Region Cloud @ Customer, according to these criteria. What do these comparisons tell us about the new possibilities such products create?" />
<meta property="og:site_name" content="All my marbles in one place" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-07-10T00:00:00-07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="AWS Outpost vs. Oracle Region @ Customer: How do they differ?" />
<script type="application/ld+json">
{"description":"Cloud vendors are rolling out products that place proprietary hardware in customer’s datacentres, delivering a selection of the vendor’s cloud services from the customer’s datacentre. These new products require a rethinking of current guidelines regarding tradeoffs between data residency, latency, and failure tolerance. As a start towards this, I compare two specific products, Amazon Outpost in 42U rack form factor and Oracle Dedicated Region Cloud @ Customer, according to these criteria. What do these comparisons tell us about the new possibilities such products create?","url":"/2021/07/10/outpost-vs-region-at-customer/","headline":"AWS Outpost vs. Oracle Region @ Customer: How do they differ?","dateModified":"2021-07-10T00:00:00-07:00","datePublished":"2021-07-10T00:00:00-07:00","author":{"@type":"Person","name":"Ted Kirkpatrick"},"mainEntityOfPage":{"@type":"WebPage","@id":"/2021/07/10/outpost-vs-region-at-customer/"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>


  <body class="theme-base-0c layout-reverse">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          All my marbles in one place
        </a>
      </h1>
      <p class="lead">A blog about course design, data display, C++, and Python.  Yes, these are related, at least as I see them.</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/comment-policy/">Comment policy</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/credits/">Credits</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    
        <div class="sidebar-tags">
        Tags:<br/>
        
	   
	    <a href="/tag/C++/">C++</a>,
	  
        
	   
	    <a href="/tag/Python/">Python</a>,
	  
        
	   
	    <a href="/tag/Course design/">Course design</a>,
	  
        
	   
	    <a href="/tag/Big data/">Big data</a>,
	  
        
	   
	    <a href="/tag/Soft skills/">Soft skills</a>,
	  
        
	   
	    <a href="/tag/Statistics/">Statistics</a>,
	  
        
	   
	    <a href="/tag/Experimental design/">Experimental design</a>,
	  
        
	   
	    <a href="/tag/Rhetoric/">Rhetoric</a>,
	  
        
	   
	    <a href="/tag/Admin/">Admin</a>,
	  
        
	  	    
            <a href="/tag/Distributed systems/">Distributed systems</a>
          
        
	</div>
      

    </nav>

    <p>&copy; 2021. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">AWS Outpost vs. Oracle Region @ Customer: How do they differ?</h1>
  <span class="post-date">10 Jul 2021
  
    <span class="tag-block">Tags: 
    
      
      <a href="/tag/Distributed systems">Distributed systems</a>
      
    
    </span>
  
  </span>
  
  <p>Cloud vendors are rolling out products that place proprietary
hardware in customer’s datacentres, delivering a selection of the
vendor’s cloud services from the customer’s datacentre. These new
products require a rethinking of current guidelines regarding
tradeoffs between data residency, latency, and failure tolerance. As a
start towards this, I compare two specific products,
<a href="https://aws.amazon.com/outposts/">Amazon Outpost in 42U rack form factor</a>
and
<a href="https://www.oracle.com/cloud/cloud-at-customer/">Oracle Dedicated Region Cloud @ Customer</a>,
according to these criteria. What do these comparisons tell us about
the new possibilities such products create?</p>

<p><strong>Disclaimer:</strong> This comparison is the most accurate that I could
make, based upon careful reading of the products’ documentation as of
early July, 2021. I have not used either product and, as with all
cloud products, both are under continuous improvement. Take these
notes as general guidelines. Consult the vendors’ sales staff for
definitive product descriptions.</p>

<h2 id="the-two-sample-systems">The two sample systems</h2>

<p>I will compare two high-end configurations, aimed at high-volume
customers running their own, substantially-sized datacentres. In each
case, Amazon or Oracle staff would install their proprietary hardware
in a designated area of the datacentre and be responsible for all
maintenance of the hardware and software.  The vendor racks would be
locked and inaccessible to the customer. The customer would be
responsible for physical security of the overall datacentre and its
power and also be responsible for networking to the
rest of the datacentre, to any internal customer network, and to the
Internet.</p>

<p>The specific configurations I will compare are:</p>

<ul>
  <li><a href="https://aws.amazon.com/outposts/">AWS Outpost:</a> Two or more 42U
racks, associated with at least two AWS Availability Zones in the
same Region.</li>
  <li><a href="https://www.oracle.com/cloud/cloud-at-customer/">Oracle Dedicated Region Cloud @ Customer:</a>
A full Oracle Region installed on dedicated floorspace of the
customer’s datacentre. An Oracle Region comprises at least one
Availability Domain, which in turn has three
<a href="https://docs.oracle.com/en-us/iaas/Content/General/Concepts/regions.htm">Fault Domains</a>.
As of this writing, billing for this configuration begins at 6
million US dollars per year. For terseness, I will refer to
this configuration by the shorter phrase, “Dedicated Region”.</li>
</ul>

<p>For details, see the linked vendor descriptions.</p>

<p>I will compare these systems according to a selection of the tradeoffs
between location, latency, fault tolerance, and data residency. To
begin, I want to contrast the different range of services provided by
each system.</p>

<h2 id="comparison-1-completeness-of-services">Comparison 1: Completeness of services</h2>

<p><strong>AWS:</strong> Amazon proposes Outpost as a solution to specific customer needs (see
<a href="https://aws.amazon.com/outposts/">“Common Use Cases”</a>).  As such,
they only support a small subset of AWS services on an Outpost:</p>

<ul>
  <li>EC2, EBS, S3: for basic compute and storage.</li>
  <li>ALB, ECS, EKS: for interconnecting services.</li>
  <li>EMR for an analytics suite. Note that despite its name, EMR includes
services beyond MapReduce, such as Spark.</li>
  <li>RDS for relational databases.</li>
  <li>ElastiCache for caching.</li>
</ul>

<p><strong>Oracle:</strong> By contrast, Oracle supports all their services in a dedicated Region,
guaranteeing the same SLAs as for Oracle’s own datacentres.  If you can do it
on a Region in an Oracle datacentre, you can do it on a
dedicated Region in your own datacentre, with the same <a href="https://www.oracle.com/cloud/iaas/sla.html">guarantees of
availability, maintainability, and performance</a>.</p>

<p><strong>Control planes:</strong> A big distinction between these two products is
the residency of their control planes. An AWS Outpost is located
within an Availability Zone, in turn located in an AWS
Region. Although an Outpost will perform computation locally for its
EC2 instances and EMR Spark nodes, the control plane for those
services resides in the Amazon datacentres for the Zones comprising
the Region. We will see in the comparisons below that this has
implications for availability, latency, and data residency.</p>

<p>By contrast, both the control and data planes for an Oracle Dedicated
Region run entirely on Oracle racks located within the customer’s
datacentre. The only component external to that datacentre is the
low-level monitoring of the hardware and software necessary for Oracle
to ensure the Region’s performance remains within the committed Service Level
Agreements. This data stream is much smaller than the control plane
stream and contains virtually no customer data.</p>

<p>With this understanding of the very different service palettes
supported by these products, let’s consider how they handle
different challenges.</p>

<h2 id="comparison-2-failure-of-a-top-of-rack-switch">Comparison 2: Failure of a top-of-rack switch</h2>

<p>The first challenge is the failure of the connection between a rack
and the rest of the datacentre, partitioning the rack. This is often
colloquially termed “failure of the top-of-rack (ToR) switch”, though
in the case of an Outpost the failure is more than a single switch.</p>

<p><strong>AWS:</strong> Each Outpost 42U rack has two ToR switches,
so this scenario only arises after <em>both</em> have failed. Our sample Outpost
configuration has at least two racks, located in distinct Availability
Zones.  If the customer has organized their services to locate
replicas in both Zones, those services should continue to run, albeit
at reduced capacity due to the inaccessibility of a substantial
fraction of their hardware capacity in the partitioned rack.</p>

<p>If the customer has not configured their services across Zones, the
entire services may be unavailable so long as even one Outpost rack is
partitioned.</p>

<p>However, spreading service replicas across Outpost racks in different
Zones may be difficult to accomplish with standard AWS services. The
AWS Application Load Balancer (ALB) service can only point to a single
Outpost subnet (see
<a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/application/create-application-load-balancer.html">Point 9 of Step 1 from “Configure a load balancer and listener”</a>),
suggesting that the ALB service cannot balance incoming requests
across Outposts in different Zones. The effective result may be that
the only practical organization for most Outpost installations is with
all racks in a single Zone, with the reduced fault tolerance that
implies.</p>

<p>More generally, this small but crucial limitation suggests that AWS
services on Outpost may be less complete than a first reading
suggests. There is a possibility that the loss of a rack will make
some of the AWS services on the Outpost unavailable.</p>

<p><strong>Oracle:</strong> The documentation does not indicate the degree of
redundancy of Oracle racks, so potentially failure of a single
top-of-rack switch could partition a rack. However, a Dedicated Region
is guaranteed, as with all Oracle Regions, to expose three distinct
Fault Domains to the customer, allowing the customer to spread
service replicas across Domains and ensure service availability despite
failure of any single one.</p>

<p>All Oracle services should also continue to run if any single rack is
partitioned.  Oracle’s commitment to offering all the services of a
Region provides customers a much higher confidence that those
services will continue to run in the event of the failure of a single
rack. Furthermore, any customer services built atop the Oracle
services and spread across the Dedicated Region’s Fault Domains will
also continue running despite a single-rack failure.</p>

<h2 id="comparison-3-latency">Comparison 3: Latency</h2>

<p>The second challenge is how latency might be improved by each
product. Both vendors emphasize the reduced latency possible from
situating their hardware directly in a customer’s datacentre. What are
the limits to these gains?</p>

<p><strong>AWS:</strong> Latency for all services running entirely on the Outpost will
be extremely low, due to the proximity of the resources to their
clients, whether other services in the customer’s own datacentre or
end users for whom that datacentre is closer than any AWS AZ.</p>

<p>However, the latency for services that run on the Outpost but that
keep redundant copies on an AWS AZ will be slowed by the round-trip
time to the AZ. The latency impact will be determined by such factors
as:</p>

<ul>
  <li>the latency of the link from the customer’s datacentre to the
AZ,</li>
  <li>whether the writes are synchronous or asynchronous with the response
sent to the service client,</li>
  <li>whether the writes are batched,</li>
</ul>

<p>and other factors.</p>

<p>All AWS services that run on an AWS Availability Zone rather than the
Outpost will have the latency of accesing that Zone.  If a customer
application has one of these services as a dependency, their latency
may limit the application’s latency.</p>

<p><strong>Oracle:</strong> The same principles will apply to latency, replacing “AWS
AZ” with “Oracle Region”. However the much larger service suite
supported by a Dedicated Region considerably reduces the chances that a
customer application will be limited by the latency of an Oracle
datacentre.</p>

<p>Moving cloud services into a customer’s data centre is a selling point
of both products and both deliver that benefit in most cases, for
customer applications that only use the services running on local hardware.</p>

<h2 id="comparison-4-failure-of-datacentres-external-link">Comparison 4: Failure of datacentre’s external link</h2>

<p>A more extreme, albeit less frequent, failure is the loss of the
link from the customer’s data centre to any external networks, including
the customer’s private network and the Internet.</p>

<p><strong>AWS:</strong> Most services will become unavailable
(see questions <a href="https://aws.amazon.com/outposts/faqs/">“Can I use Outposts when it is not connected to the AWS Region or in a disconnected environment?” and “What happens when my facility’s network connection goes down?”</a>). EC2
instances may continue running and their metrics and logs will be
retained for a few hours, though these will be lost if the partition
continues for too long. The control plane will not work, making it
impossible, for example, to start and stop instances. DNS requests
within the Outpost will fail.</p>

<p><strong>Oracle:</strong> All services will continue running
<a href="https://www.oracle.com/a/ocom/docs/cloud/oracle-dedicated-region-cloud-faq.pdf">(see Question 21 of the FAQ)</a>. Services
will not be able to access the Internet but will be able to continue
any processing only requiring local data and continue to meet the
Oracle SLAs. So long as the customer has local access, they can
perform all control plane operations, such as starting or stopping
services and making DNS lookups. Metrics and logs will be cached for
up to a few hours’ partition. Longer partitions may result in unmet
SLAs.</p>

<p>This kind of failure is rare but when it occurs its impact can be
severe. The tolerance of Oracle’s Dedicated Regions to theses failure
is a point in Oracle’s favour.</p>

<h2 id="comparison-5-data-residency">Comparison 5: Data residency</h2>

<p>A major selling point of these products is compliance with
requirements for data residency (where copies of the data are stored)
and the related requirements of data sovereignty (which laws govern
the data) and data locality (where the data is processed). By keeping
data in its own datacentre, a customer can meet these requirements
whenever they are not met by a cloud vendor’s datacentres. Although
residency is straightforward when referring to original data, the
determination is more subtle when we consider metadata from the
control plane. Must the records of a service starting and stopping
reside locally?  What about metrics and logs for the service?  What
about the low-level telemetry used by operations staff to monitor the
performance of the underlying datacentre hardware?  Different
compliance requirements may make different determinations for these
forms of metadata.</p>

<p><strong>AWS:</strong> If the data is only processed by services running on the
Outpost and stored on EBS or S3 on the Outpost, the data itself will
be contained entirely within the customer’s datacentre. However,
control plane metadata, including the start and stop of services, batch job
names, DNS lookups, and service metrics, will be exported to the
owning AWS Region. This metadata and the low-level telemetry will have
the residency of the AWS Region:</p>

<blockquote>
  <p>Some limited meta-data (e.g. instance IDs, monitoring
metrics, metering records, tags, bucket names, etc.) will
flow back to the AWS Region.<br />
— <a href="https://aws.amazon.com/outposts/faqs/">Outpost FAQ, “Can Outposts be used to meet data residency requirements?”</a></p>
</blockquote>

<p><strong>Oracle:</strong> As the Dedicated Region’s services run entirely in the
customer’s datacentre, including the control plane, the original data
together with all service-related metadata, such as metrics, service
starts and stops, and DNS lookups, resides in the customer’s
datacentre. Lowest-level telemetry data, however, is non-local:</p>

<blockquote>
  <p>Data that helps Oracle achieve its SLAs and provide
continuous security and functionality updates will flow in
and out as required, but without impacting data residency and
sovereignty requirements.<br />
— <a href="https://www.oracle.com/a/ocom/docs/cloud/oracle-dedicated-region-cloud-faq.pdf">Dedicated Region FAQ, Question 17</a></p>
</blockquote>

<p>Oracle’s data residency proposition is simple to state: The only data
that leaves the customer’s datacentre is low-level telemetry that is
unnconnected to any of the customer’s data.  This can be a powerful
case for compliance in heavily-regulated domains.  The Amazon data
residency proposition requires careful parsing. For many applications,
all that matters is residency of the data plane and the Outpost
architecture will suffice. Making this case to the auditors, however,
will require more work than for an Oracle Dedicated Region.</p>

<h2 id="conclusion">Conclusion</h2>

<p>The distinctions between these configurations of AWS Outpost and
Oracle Dedicated Region are subtle. In many ways they are addressing
different sizes of customer installations and may not have much
overlap.  To make a fair comparison for this post, I had to choose one of the
largest possible Outpost configurations and the smallest possible
Dedicated Region. Amazon supports much smaller Outposts than the one I
describe here, especially with the recently introduced
<a href="https://aws.amazon.com/outposts/faqs/">1U and 2U form factors</a>,
which are single servers mounted in a customer’s rack. For these
smaller installations, limited services and an offsite control plane
are sensible architectural choices. The customer simply needs to
understand their implications.</p>

<p>Oracle Dedicated Regions are unabashedly aimed at much larger
configurations. For customers that require this level of service, more
straightforward and robust guarantees of availability and data
residency are worth the higher cost. The minimum spend for acquiring
this availability is substantially above the minimal spend for an
Outpost.</p>

<p>The overall conclusion from this sequence of comparisons is that
customers can use AWS Outpost to achieve genuine improvements in
latency and data residency without seriously compromising
availability, at low cost, with the crucial caveat that these outcomes
require applications to be carefully architected to match the
limitations of Outpost.</p>

<p>On the other hand, Oracle Dedicated Regions offer a far simpler
approach for improving latency and data residency, with higher
availability and a straightforward compliance argument. Applications
can be designed around the full suite of Oracle services. The tradeoff
for this simplicity is that a Dedicated region requires a much larger
financial commitment.</p>

<p>More generally, the introduction of another class of products, where
vendors run their services on customer hardware
(<a href="https://cloud.google.com/anthos/">Google Anthos</a>,
<a href="https://azure.microsoft.com/en-us/products/azure-stack/hub/">Azure Stack Hub</a>,
and
<a href="https://www.alibabacloud.com/product/apsara-stack">Alibaba Apsara Stack</a>),
offers further combinations of availability, latency, and data
residency. The comparisons made in this post will have to be extended
to handle these use cases as well.</p>


</div>




<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = "http://kirkpatricktech.com/2021/07/10/outpost-vs-region-at-customer/";
//this.page.identifier = "/2021/07/10/outpost-vs-region-at-customer";
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://kirkpatricktech-com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>

  </body>
</html>
